(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[35],{1130:function(e,t,n){"use strict";n.r(t);var a=n(165),r=n(166),o=n(168),c=n(167),s=n(175),u=n(169),i=n(1),l=n.n(i),p=n(524),m=n(898),d=n(899),h=n(740),f=n(607),g=n(900),b=n(896),v=n(689),y=n(690),E=n(1131),w=n(718),O=n(719),T=n(593),x=n(1128),N=n(1129),j=n(1126),k=n(1127),A=n(901),S=n(578),C=n(897),R=n(538),J=n(164),B=(n(687),n(686),n(537)),P=n.n(B),I=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=e.target.elements,a=t.username.value,r=t.password.value;if("1"===n.state.activeTab[0])Object(R.c)(a,r).then((function(e){"true"===e.status?(console.log(e),J.a.authenticate(a,e.token),n.setState({redirectToReferrer:!0})):P()("Th\xf4ng b\xe1o!","\u0110\u0103ng nh\u1eadp kh\xf4ng th\xe0nh c\xf4ng!","error")}));else{var o={username:t.username2.value,password:t.password2.value};Object(C.loginDataToken)(o).then((function(e){200===e.status&&(J.a.authenticate(e.data.username,e.data.token),n.setState({redirectToReferrer:!0}))})).catch((function(e){P()("Th\xf4ng b\xe1o!","\u0110\u0103ng nh\u1eadp kh\xf4ng th\xe0nh c\xf4ng!","error")}))}},n.toggle=n.toggle.bind(Object(s.a)(n)),n.state={redirectToReferrer:!1,activeTab:new Array(4).fill("1")},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"vnglogin",value:function(){return l.a.createElement("div",null,l.a.createElement(m.a,{className:"mb-3 magintop20"},l.a.createElement(d.a,{addonType:"prepend"},l.a.createElement(h.a,null,l.a.createElement("i",{className:"icon-user"}))),l.a.createElement(f.a,{type:"text",name:"username",placeholder:"Username",autoComplete:"username"})),l.a.createElement(m.a,{className:"mb-4"},l.a.createElement(d.a,{addonType:"prepend"},l.a.createElement(h.a,null,l.a.createElement("i",{className:"icon-lock"}))),l.a.createElement(f.a,{type:"password",name:"password",placeholder:"Password + OTP",autoComplete:"current-password"})))}},{key:"databaselogin",value:function(){return l.a.createElement("div",null,l.a.createElement(m.a,{className:"mb-3 magintop20"},l.a.createElement(d.a,{addonType:"prepend"},l.a.createElement(h.a,null,l.a.createElement("i",{className:"icon-user"}))),l.a.createElement(f.a,{type:"text",name:"username2",placeholder:"Username",autoComplete:"username"})),l.a.createElement(m.a,{className:"mb-4"},l.a.createElement(d.a,{addonType:"prepend"},l.a.createElement(h.a,null,l.a.createElement("i",{className:"icon-lock"}))),l.a.createElement(f.a,{type:"password",name:"password2",placeholder:"Password",autoComplete:"current-password"})))}},{key:"toggle",value:function(e,t){var n=this.state.activeTab.slice();n[e]=t,this.setState({activeTab:n})}},{key:"tabPane",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{tabId:"1"},this.vnglogin()),l.a.createElement(g.a,{tabId:"2"},this.databaselogin()))}},{key:"componentWillMount",value:function(){J.a.isAuthenticated()&&this.setState({redirectToReferrer:!0})}},{key:"render",value:function(){var e=this;return this.state.redirectToReferrer?l.a.createElement(p.a,{to:"/"}):l.a.createElement("div",{className:"app flex-row align-items-center"},l.a.createElement(b.a,null,l.a.createElement(v.a,{className:"justify-content-center"},l.a.createElement(y.a,{md:"5"},l.a.createElement(E.a,null,l.a.createElement(w.a,{className:"p-4"},l.a.createElement(O.a,null,l.a.createElement(T.a,{onSubmit:this.handleSubmit},l.a.createElement("h1",null,"TITAN ",l.a.createElement(x.a,{color:"danger"},"ADMIN")),l.a.createElement("p",{className:"text-muted"},"Sign In to your account"),l.a.createElement(N.a,{tabs:!0},l.a.createElement(j.a,null,l.a.createElement(k.a,{active:"1"===this.state.activeTab[0],onClick:function(){e.toggle(0,"1")}},"VNG TOKEN GATEWAY"))),l.a.createElement(A.a,{activeTab:this.state.activeTab[0]},this.tabPane()),l.a.createElement(v.a,{className:"marginTop20"},l.a.createElement(y.a,{xs:"6",className:"text-left"}),l.a.createElement(y.a,{xs:"6",className:"text-right"},l.a.createElement(S.a,{type:"submit",color:"primary",className:"px-4"},"Login")))))))))))}}]),t}(i.Component);t.default=I},538:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return d}));var a=n(532),r=n.n(a),o=n(533);n(715),n(164);function c(){return s.apply(this,arguments)}function s(){return(s=Object(o.a)(r.a.mark((function e(){var t,n,a,o=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]?o[1]:{},e.next=4,fetch(t,{method:"POST",mode:"no-cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(n)});case 4:return a=e.sent,e.abrupt("return",a.text().then((function(e){return console.log(e),JSON.parse(e)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return i.apply(this,arguments)}function i(){return(i=Object(o.a)(r.a.mark((function e(){var t,n,a,o,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1&&void 0!==c[1]?c[1]:{},a=c.length>2?c[2]:void 0,e.next=5,fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a},body:JSON.stringify(n)});case 5:return o=e.sent,e.abrupt("return",o.text().then((function(e){return console.log(e),JSON.parse(e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){try{JSON.parse(e)}catch(t){return!1}return!0}function p(e){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(r.a.mark((function e(t){var n,a,o,c,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"",a=s.length>2&&void 0!==s[2]?s[2]:{},o=s.length>3?s[3]:void 0,e.next=5,fetch(n,{method:t,headers:{"Content-Type":"application/json",Authorization:"Bearer "+o},body:JSON.stringify(a)});case 5:return c=e.sent,e.abrupt("return",c.text().then((function(e){if(l(e))return JSON.parse(e);throw"Cannot parse value not JSON"})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={username:t,code:n,type:"ga"},e.abrupt("return",c("/api/auth",a).then((function(e){return console.log(e),e})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},686:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return h}));var a=n(532),r=n.n(a),o=n(533),c=(n(715),n(538)),s=n(537),u=n.n(s),i={data:[{id:1,name:"Dashboard",roles:["Administrator","Executive","Customer service"]},{id:2,name:"Events",roles:["Administrator","Executive","Customer service"]},{id:3,name:"NavManagement",roles:["Administrator"]},{id:4,name:"RoleManagement",roles:["Administrator"]},{id:5,name:"Add new event",roles:["Administrator"]},{id:6,name:"Edit",roles:["Administrator"]},{id:7,name:"Info",roles:["Administrator","Executive"]}]};function l(e){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/nav_role",e.next=3,fetch("/api/nav_role",{method:"GET",headers:{Authorization:"Bearer "+t}}).then((function(e){return 200===e.status?e.json().then((function(e){return e.map((function(e){e.roles=e.roles.split(",")})),console.log(e),{data:e}})):i})).catch((function(e){return console.log(e),u()("Th\xf4ng b\xe1o",e,"error"),i}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),t.roles=t.roles.toString(),console.log(t),e.abrupt("return",Object(c.a)("/api/nav_role/edit",t,n).then((function(e){return console.log(e),e})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),t.roles=t.roles.toString(),console.log(t),e.abrupt("return",Object(c.a)("/api/nav_role/add",t,n).then((function(e){return console.log(e),e})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},687:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b}));var a=n(532),r=n.n(a),o=n(533),c=n(538),s=n(164),u=[{id:"1",name:"ADMIN",username:"ADMIN",role:"Administrator",status:"ON"},{id:"2",name:"L\xea Th\xe0nh C\xf4ng",username:"conglt",role:"Administrator",status:"OFF"},{id:"3",name:"B\xf9i M\u1ea1nh C\u01b0\u1eddng",username:"cuongbm2",role:"Executive",status:"ON"},{id:"4",name:"Nguy\u1ec5n H\u1eefu Phong",username:"phongnh",role:"Executive",status:"ON"}];function i(e){return l.apply(this,arguments)}function l(){return(l=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/api/roles",e.next=3,fetch(n,{method:"GET",headers:{Authorization:"Bearer "+t}}).then((function(e){var t=e;return t.data=[],200!==e.status?(console.log("URL: "+n+" "+e.status+" "+e.statusText),t.data=u,s.a.signout((function(){})),t):200===e.status?(console.log("URL: "+n+" 200 OK"),e.json().then((function(e){return console.log(e),t.data=e,t}))):t})).catch((function(){return console.log("Can\u2019t access "+n+" response. Blocked by browser?"),{}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/get_role/"+t,e.next=3,fetch(a,{method:"GET",headers:{Authorization:"Bearer "+n}}).then((function(e){var t=e;return t.data=[],200!==e.status?(console.log("URL: "+a+" "+e.status+" "+e.statusText),t.data={role:["Guest"]},s.a.signout((function(){})),t):200===e.status?(console.log("URL: "+a+" 200 OK"),e.json().then((function(e){return console.log(e),0===e.length||"OFF"===e[0].status?t.data={role:["Guest"]}:t.data={role:e[0].role.split(",")},t}))):t})).catch((function(){return console.log("Can\u2019t access "+a+" response. Blocked by browser?"),{}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(c.a)("/api/roles/edit",t,n).then((function(e){return console.log(e),e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(c.a)("/api/roles/add",t,n).then((function(e){return console.log(e),e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(c.a)("/api/roles/delete",t,n).then((function(e){return console.log(e),e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},715:function(e,t,n){"use strict";var a=n(810),r=n.n(a),o=n(164);r.a.create({baseURL:"http://localhost:9080/api/",headers:{Authorization:"Bearer "+o.a.getAccessToken()}}),o.a.getAccessToken()},897:function(e,t){}}]);
//# sourceMappingURL=35.dae0f6d0.chunk.js.map