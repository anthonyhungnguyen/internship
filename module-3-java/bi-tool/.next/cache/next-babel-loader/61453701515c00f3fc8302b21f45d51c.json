{"ast":null,"code":"const mysql = require('serverless-mysql');\n\nconst db = mysql({\n  config: {\n    host: process.env.MYSQL_HOST,\n    database: process.env.MYSQL_DATABASE,\n    user: process.env.MYSQL_USER,\n    password: process.env.MYSQL_PASSWORD\n  }\n});\n\nexports.query = async query => {\n  try {\n    const results = await db.query(query);\n    await db.end();\n    return results;\n  } catch (error) {\n    return {\n      error\n    };\n  }\n};","map":{"version":3,"sources":["/home/phuchung/Desktop/internship/module-3-java/bi-tool/lib/db.js"],"names":["mysql","require","db","config","host","process","env","MYSQL_HOST","database","MYSQL_DATABASE","user","MYSQL_USER","password","MYSQL_PASSWORD","exports","query","results","end","error"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,kBAAD,CAArB;;AAEA,MAAMC,EAAE,GAAGF,KAAK,CAAC;AAChBG,EAAAA,MAAM,EAAE;AACPC,IAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,UADX;AAEPC,IAAAA,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYG,cAFf;AAGPC,IAAAA,IAAI,EAAEL,OAAO,CAACC,GAAR,CAAYK,UAHX;AAIPC,IAAAA,QAAQ,EAAEP,OAAO,CAACC,GAAR,CAAYO;AAJf;AADQ,CAAD,CAAhB;;AASAC,OAAO,CAACC,KAAR,GAAgB,MAAOA,KAAP,IAAiB;AAChC,MAAI;AACH,UAAMC,OAAO,GAAG,MAAMd,EAAE,CAACa,KAAH,CAASA,KAAT,CAAtB;AACA,UAAMb,EAAE,CAACe,GAAH,EAAN;AACA,WAAOD,OAAP;AACA,GAJD,CAIE,OAAOE,KAAP,EAAc;AACf,WAAO;AAAEA,MAAAA;AAAF,KAAP;AACA;AACD,CARD","sourcesContent":["const mysql = require('serverless-mysql')\n\nconst db = mysql({\n\tconfig: {\n\t\thost: process.env.MYSQL_HOST,\n\t\tdatabase: process.env.MYSQL_DATABASE,\n\t\tuser: process.env.MYSQL_USER,\n\t\tpassword: process.env.MYSQL_PASSWORD\n\t}\n})\n\nexports.query = async (query) => {\n\ttry {\n\t\tconst results = await db.query(query)\n\t\tawait db.end()\n\t\treturn results\n\t} catch (error) {\n\t\treturn { error }\n\t}\n}\n"]},"metadata":{},"sourceType":"script"}